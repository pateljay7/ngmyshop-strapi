<div class="m-2" *ngIf="todo" [formGroup]="todoForm">
  <div
    class="flex mx-auto items-center justify-center shadow-lg max-w-lg flex-wrap"
  >
    <form class="w-full max-w-xl bg-white rounded-lg px-4 pt-2">
      <div class="flex flex-wrap -mx-3">
        <h2
          class="px-4 pt-3 pb-2 text-gray-800 text-lg"
          *ngIf="todoForm.get('isEdit')?.value"
        >
          Title
        </h2>
        <div class="w-full md:w-full px-3 mt-2">
          <p
            *ngIf="!todoForm.get('isEdit')?.value"
            class="bg-gray-200 rounded leading-normal resize-none w-full py-2 px-3 font-medium placeholder-gray-700 mb-2"
          >
            {{ todoForm.get("title")?.value }}
          </p>

          <input
            *ngIf="todoForm.get('isEdit')?.value"
            formControlName="title"
            class="bg-gray-100 rounded border border-gray-400 leading-normal resize-none w-full py-2 px-3 font-medium placeholder-gray-700 focus:outline-none focus:bg-white"
            name="body"
            placeholder="Type Your Title"
            required
          />
        </div>
      </div>
      <div class="flex flex-wrap -mx-3">
        <h2
          class="px-4 pt-3 pb-2 text-gray-800 text-lg"
          *ngIf="todoForm.get('isEdit')?.value"
        >
          Description
        </h2>
        <div class="w-full md:w-full px-3">
          <p
            *ngIf="!todoForm.get('isEdit')?.value"
            class="bg-gray-50 rounded leading-normal resize-none w-full py-2 px-3 placeholder-gray-700"
          >
            {{ todoForm.get("description")?.value }}
          </p>
          <textarea
            *ngIf="todoForm.get('isEdit')?.value"
            formControlName="description"
            class="bg-gray-100 rounded border border-gray-400 leading-normal resize-none w-full h-20 py-2 px-3 font-medium placeholder-gray-700 focus:outline-none focus:bg-white"
            name="body"
            placeholder="Type Your Description"
            required
          ></textarea>
        </div>
      </div>
      <div class="flex flex-wrap -mx-3">
        <h2
          class="px-4 pt-3 pb-2 text-gray-800 text-lg"
          *ngIf="todoForm.get('isEdit')?.value"
        >
          Due date
        </h2>
        <div class="w-full md:w-full px-3 mb-2">
          <p
            *ngIf="!todoForm.get('isEdit')?.value"
            class="bg-gray-50 rounded leading-normal resize-none w-full py-2 px-3 placeholder-gray-700"
          >
            {{ todoForm.get("dueDate")?.value | date : "dd-mm-yyyy hh:mm a" }}
          </p>
          <input
            *ngIf="todoForm.get('isEdit')?.value"
            formControlName="dueDate"
            type="datetime-local"
            id="userInput"
            name="userInput"
            class="w-full mb-2 bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-indigo-500 focus:bg-transparent focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"
          />
        </div>
      </div>
      <div class="flex flex-wrap -mx-3 mb-6">
        <div class="w-full md:w-full flex items-start md:w-full px-3">
          <div class="-mr-1">
            <button
              (click)="onClickSaveTodo()"
              *ngIf="todoForm.get('isEdit')?.value"
              type="submit"
              class="bg-white text-gray-700 font-medium py-1 px-4 border border-gray-400 rounded-lg tracking-wide mr-1 hover:bg-gray-100"
            >
              Save
            </button>
            <button
              (click)="toggleEditMode()"
              *ngIf="todoForm.get('isEdit')?.value"
              type="submit"
              class="bg-white text-gray-700 font-medium py-1 px-4 ml-2 border bg-red-400 rounded-lg tracking-wide mr-1 hover:bg-gray-100"
            >
              Cancel
            </button>
            <button
              (click)="toggleEditMode()"
              *ngIf="!todoForm.get('isEdit')?.value"
              type="submit"
              class="bg-white text-gray-700 font-medium py-1 px-4 ml-2 border bg-red-400 rounded-lg tracking-wide mr-1 hover:bg-gray-100"
            >
              Edit
            </button>
            <button
              (click)="onClickDeleteTodo()"
              *ngIf="!todoForm.get('isEdit')?.value"
              type="submit"
              class="bg-white text-gray-700 font-medium py-1 px-4 ml-2 border bg-red-400 rounded-lg tracking-wide mr-1 hover:bg-gray-100"
            >
              Delete
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
